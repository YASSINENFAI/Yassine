
// --- Massive Translations Dictionary ---
const translations = {
    en: {
        // Nav
        nav_about: "About",
        nav_services: "Services",
        nav_work: "Work",
        nav_contact: "Contact",
        nav_cta: "Let's Talk",

        // Hero
        hero_status: "Available for new projects",
        hero_title: "Digital creator focused on clean design and strong online presence.",
        hero_desc: "I craft simple, modern websites and visual designs that help people present themselves professionally.",
        hero_btn_work: "View My Work",
        hero_btn_contact: "Get in Touch",
        scroll_label: "Scroll",

        // About
        about_label: "About Me",
        about_title: "Designing with clarity and purpose.",
        about_text_1: "I create digital content and designs that help people present themselves professionally online. I prefer simple layouts, modern aesthetics, and clear communication.",
        about_text_2: "With a keen eye for detail and a passion for minimalist design, I transform complex ideas into intuitive digital experiences.",
        about_exp: "Years Experience",
        about_proj: "Projects Done",
        about_clients: "Happy Clients",

        // Services
        services_label: "What I Do",
        services_title: "Specialized Services",
        services_desc: "Comprehensive digital solutions tailored to elevate your online presence.",

        srv_web_title: "Website Design",
        srv_web_desc: "Building responsive, fast, and visually stunning websites that look exceptional on any device.",

        srv_vis_title: "Visual Design",
        srv_vis_desc: "Creating captivating social media graphics, branding assets, and visual identities.",

        srv_pro_title: "Digital Profiles",
        srv_pro_desc: "Curating personal profiles and portfolios to ensure a strong, professional image.",

        srv_ui_title: "UI/UX Design",
        srv_ui_desc: "Designing intuitive user interfaces and seamless experiences that delight users.",

        // Portfolio
        port_label: "My Work",
        port_title: "Recent Projects",
        port_desc: "A selection of my latest work showcasing creative solutions.",
        filter_all: "All",
        filter_web: "Web",
        filter_design: "Design",
        filter_brand: "Branding",

        // Contact
        contact_label: "Get in Touch",
        contact_title: "Let's work together",
        contact_desc: "Have a project in mind or just want to say hello? I'm always open to discussing new opportunities.",

        form_name: "Your Name",
        form_email: "Email Address",
        form_subject: "Subject",
        form_msg: "Your Message",
        form_btn: "Send Message",

        // Footer
        footer_copy: "&copy; 2026 Yassine. All rights reserved. Crafted with passion."
    },
    fr: {
        // Nav
        nav_about: "Ã€ propos",
        nav_services: "Services",
        nav_work: "Projets",
        nav_contact: "Contact",
        nav_cta: "Discutons",

        // Hero
        hero_status: "Disponible pour nouveaux projets",
        hero_title: "CrÃ©ateur numÃ©rique focalisÃ© sur le design Ã©purÃ© et la prÃ©sence en ligne.",
        hero_desc: "Je conÃ§ois des sites web modernes et des designs visuels pour vous prÃ©senter professionnellement.",
        hero_btn_work: "Voir mes projets",
        hero_btn_contact: "Me contacter",
        scroll_label: "DÃ©filer",

        // About
        about_label: "Ã€ propos de moi",
        about_title: "Concevoir avec clartÃ© et objectif.",
        about_text_1: "Je crÃ©e du contenu numÃ©rique et des designs qui aident les gens Ã  se prÃ©senter professionnellement en ligne. Je prÃ©fÃ¨re les mises en page simples et l'esthÃ©tique moderne.",
        about_text_2: "Avec un Å“il attentif aux dÃ©tails et une passion pour le design minimaliste, je transforme des idÃ©es complexes en expÃ©riences intuitives.",
        about_exp: "AnnÃ©es d'ExpÃ©rience",
        about_proj: "Projets TerminÃ©s",
        about_clients: "Clients Heureux",

        // Services
        services_label: "Ce que je fais",
        services_title: "Services SpÃ©cialisÃ©s",
        services_desc: "Solutions numÃ©riques complÃ¨tes adaptÃ©es pour Ã©lever votre prÃ©sence en ligne.",

        srv_web_title: "Conception Web",
        srv_web_desc: "CrÃ©ation de sites rÃ©actifs, rapides et visuellement Ã©poustouflants sur tous les appareils.",

        srv_vis_title: "Design Visuel",
        srv_vis_desc: "CrÃ©ation de graphiques captivants pour les rÃ©seaux sociaux et identitÃ©s visuelles.",

        srv_pro_title: "Profils NumÃ©riques",
        srv_pro_desc: "Curation de profils personnels et portfolios pour assurer une image professionnelle forte.",

        srv_ui_title: "Design UI/UX",
        srv_ui_desc: "Conception d'interfaces utilisateur intuitives et d'expÃ©riences fluides.",

        // Portfolio
        port_label: "Mon Travail",
        port_title: "Projets RÃ©cents",
        port_desc: "Une sÃ©lection de mes derniers travaux montrant des solutions crÃ©atives.",
        filter_all: "Tous",
        filter_web: "Web",
        filter_design: "Design",
        filter_brand: "Marque",

        // Contact
        contact_label: "Contactez-moi",
        contact_title: "Travaillons ensemble",
        contact_desc: "Vous avez un projet en tÃªte ou voulez juste dire bonjour ? Je suis toujours ouvert aux nouvelles opportunitÃ©s.",

        form_name: "Votre Nom",
        form_email: "Adresse Email",
        form_subject: "Sujet",
        form_msg: "Votre Message",
        form_btn: "Envoyer le message",

        // Footer
        footer_copy: "&copy; 2026 Yassine. Tous droits rÃ©servÃ©s. Fait avec passion."
    },
    ar: {
        // Nav
        nav_about: "Ù…Ù† Ø£Ù†Ø§",
        nav_services: "Ø®Ø¯Ù…Ø§ØªÙŠ",
        nav_work: "Ø£Ø¹Ù…Ø§Ù„ÙŠ",
        nav_contact: "ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ",
        nav_cta: "ØªØ­Ø¯Ø« Ù…Ø¹ÙŠ",

        // Hero
        hero_status: "Ù…ØªØ§Ø­ Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¬Ø¯ÙŠØ¯Ø©",
        hero_title: "Ù…ØµÙ…Ù… Ø±Ù‚Ù…ÙŠ ÙŠØ±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù†Ø¸ÙŠÙ ÙˆØ§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„Ù‚ÙˆÙŠ.",
        hero_desc: "Ø£Ù‚ÙˆÙ… Ø¨Ø¨Ù†Ø§Ø¡ Ù…ÙˆØ§Ù‚Ø¹ Ø­Ø¯ÙŠØ«Ø© ÙˆØªØµØ§Ù…ÙŠÙ… Ø¨ØµØ±ÙŠØ© ØªØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ù†ÙØ³Ùƒ Ø¨Ø§Ø­ØªØ±Ø§ÙÙŠØ©ØŒ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ¶ÙˆØ­ ÙÙŠ ÙƒÙ„ Ø¨ÙƒØ³Ù„.",
        hero_btn_work: "Ø´Ø§Ù‡Ø¯ Ø£Ø¹Ù…Ø§Ù„ÙŠ",
        hero_btn_contact: "ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ",
        scroll_label: "ØªØµÙØ­",

        // About
        about_label: "Ù†Ø¨Ø°Ø© Ø¹Ù†ÙŠ",
        about_title: "Ø§Ù„ØªØµÙ…ÙŠÙ… Ø¨ÙˆØ¶ÙˆØ­ ÙˆÙ‡Ø¯Ù.",
        about_text_1: "Ø£ØµÙ†Ø¹ Ù…Ø­ØªÙˆÙ‰ Ø±Ù‚Ù…ÙŠ ÙˆØªØµØ§Ù…ÙŠÙ… ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ø£Ù†ÙØ³Ù‡Ù… Ø¨Ø§Ø­ØªØ±Ø§ÙÙŠØ©. Ø£ÙØ¶Ù„ Ø§Ù„ØªØ®Ø·ÙŠØ·Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø© ÙˆØ§Ù„Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„ÙˆØ§Ø¶Ø­.",
        about_text_2: "Ù…Ø¹ Ø§Ù‡ØªÙ…Ø§Ù… Ø¯Ù‚ÙŠÙ‚ Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ´ØºÙ Ø¨Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø³ÙŠØ·ØŒ Ø£Ø­ÙˆÙ„ Ø§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© Ø¥Ù„Ù‰ ØªØ¬Ø§Ø±Ø¨ Ø±Ù‚Ù…ÙŠØ© Ø¨Ø¯ÙŠÙ‡ÙŠØ©.",
        about_exp: "Ø³Ù†ÙˆØ§Øª Ø®Ø¨Ø±Ø©",
        about_proj: "Ù…Ø´Ø±ÙˆØ¹ Ù…ÙƒØªÙ…Ù„",
        about_clients: "Ø¹Ù…ÙŠÙ„ Ø³Ø¹ÙŠØ¯",

        // Services
        services_label: "Ù…Ø§Ø°Ø§ Ø£Ù‚Ø¯Ù…",
        services_title: "Ø®Ø¯Ù…Ø§Øª Ù…ØªØ®ØµØµØ©",
        services_desc: "Ø­Ù„ÙˆÙ„ Ø±Ù‚Ù…ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù…ØµÙ…Ù…Ø© Ù„Ø±ÙØ¹ Ù…Ø³ØªÙˆÙ‰ Ø­Ø¶ÙˆØ±Ùƒ ÙˆØªÙˆØ§Ø¬Ø¯Ùƒ Ø§Ù„Ø±Ù‚Ù…ÙŠ.",

        srv_web_title: "ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹",
        srv_web_desc: "Ø¨Ù†Ø§Ø¡ Ù…ÙˆØ§Ù‚Ø¹ Ø³Ø±ÙŠØ¹Ø©ØŒ Ù…ØªØ¬Ø§ÙˆØ¨Ø©ØŒ ÙˆØ¬Ø°Ø§Ø¨Ø© Ø¨ØµØ±ÙŠØ§Ù‹ ØªØ¹Ù…Ù„ Ø¨Ø§Ù…ØªÙŠØ§Ø² Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©.",

        srv_vis_title: "Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨ØµØ±ÙŠ",
        srv_vis_desc: "ØªØµÙ…ÙŠÙ… Ø¬Ø±Ø§ÙÙŠÙƒ Ø¬Ø°Ø§Ø¨ Ù„Ù…Ù†ØµØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ ÙˆÙ‡ÙˆÙŠØ§Øª Ø¨ØµØ±ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø©.",

        srv_pro_title: "Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©",
        srv_pro_desc: "ØªÙ†Ø³ÙŠÙ‚ ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„Ù…Ø­Ø§ÙØ¸ (Portfolio) Ù„Ø¶Ù…Ø§Ù† ØµÙˆØ±Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù‚ÙˆÙŠØ©.",

        srv_ui_title: "ØªØµÙ…ÙŠÙ… ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
        srv_ui_desc: "ØªØµÙ…ÙŠÙ… ÙˆØ§Ø¬Ù‡Ø§Øª Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¯ÙŠÙ‡ÙŠØ© ÙˆØªØ¬Ø§Ø±Ø¨ Ø³Ù„Ø³Ø© ØªØ³Ø¹Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØªØ²ÙŠØ¯ Ø§Ù„ØªÙØ§Ø¹Ù„.",

        // Portfolio
        port_label: "Ø£Ø¹Ù…Ø§Ù„ÙŠ",
        port_title: "Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹",
        port_desc: "Ù…Ø®Ø§Ø±Ø© Ù…Ù† Ø£Ø­Ø¯Ø« Ø£Ø¹Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙŠ ØªØ¨Ø±Ø² Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„.",
        filter_all: "Ø§Ù„ÙƒÙ„",
        filter_web: "Ù…ÙˆØ§Ù‚Ø¹",
        filter_design: "ØªØµÙ…ÙŠÙ…",
        filter_brand: "Ù‡ÙˆÙŠØ©",

        // Contact
        contact_label: "Ø§ØªØµÙ„ Ø¨ÙŠ",
        contact_title: "Ù„Ù†Ø¹Ù…Ù„ Ù…Ø¹Ø§Ù‹",
        contact_desc: "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ù…Ø´Ø±ÙˆØ¹ ÙÙŠ Ø°Ù‡Ù†ÙƒØŸ Ø£Ù†Ø§ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ù†ÙØªØ­ Ù„Ù…Ù†Ø§Ù‚Ø´Ø© Ø§Ù„ÙØ±Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©.",

        form_name: "Ø§Ø³Ù…Ùƒ",
        form_email: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
        form_subject: "Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹",
        form_msg: "Ø±Ø³Ø§Ù„ØªÙƒ",
        form_btn: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©",

        // Footer
        footer_copy: "&copy; 2026 ÙŠØ§Ø³ÙŠÙ†. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©."
    }
};

// --- Global Actions for AI & UI ---
window.siteActions = {
    setLang: function (lang) {
        if (!translations[lang]) return;

        // 1. Text Replacements
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang][key]) {
                // If it's an input/textarea use placeholder
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    el.placeholder = translations[lang][key];
                } else {
                    el.innerHTML = translations[lang][key]; // innerHTML to preserve spans if any
                }
            }
        });

        // 2. RTL/LTR Force
        document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
        document.documentElement.lang = lang;

        // 3. Update Buttons State
        document.querySelectorAll('.lang-option').forEach(btn => {
            btn.classList.toggle('selected', btn.dataset.lang === lang);
        });

        // Save preference
        localStorage.setItem('preferred_lang', lang);
    },

    setTheme: function (mode) {
        if (mode === 'dark') {
            document.body.classList.add('dark-mode');
        } else {
            document.body.classList.remove('dark-mode');
        }
    },

    navigate: function (sectionId) {
        const section = document.getElementById(sectionId);
        if (section) {
            section.scrollIntoView({ behavior: 'smooth' });
        }
    }
};

// --- Init UI ---
document.addEventListener('DOMContentLoaded', () => {

    // 1. Build Single Button UI
    const wrapper = document.createElement('div');
    wrapper.className = 'lang-switcher-wrapper';

    // Main Toggle
    const toggleBtn = document.createElement('button');
    toggleBtn.className = 'lang-toggle-btn';
    toggleBtn.innerHTML = 'ðŸŒ';
    toggleBtn.onclick = () => wrapper.classList.toggle('active');

    // Menu
    const menu = document.createElement('div');
    menu.className = 'lang-menu';

    ['ar', 'fr', 'en'].forEach(lang => {
        const opt = document.createElement('button');
        opt.className = 'lang-option';
        opt.innerText = lang.toUpperCase();
        opt.dataset.lang = lang;
        opt.onclick = (e) => {
            e.stopPropagation(); // Stop bubbling
            window.siteActions.setLang(lang);
            wrapper.classList.remove('active'); // Close after click
        };
        menu.appendChild(opt);
    });

    wrapper.appendChild(toggleBtn);
    wrapper.appendChild(menu);
    document.body.appendChild(wrapper);

    // 2. Load Defaults
    const savedLang = localStorage.getItem('preferred_lang') || 'en';
    window.siteActions.setLang(savedLang);

    // 3. Close menu when clicking outside
    document.addEventListener('click', (e) => {
        if (!wrapper.contains(e.target)) {
            wrapper.classList.remove('active');
        }
    });

    // 4. Update Chat Widget Defaults based on Lang (Optional)
    // If we wanted to change "Welcome" to Arabic if lang is 'ar', we'd do it here.
});
